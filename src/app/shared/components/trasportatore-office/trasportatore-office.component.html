<div class="row p-3 py-5 my-5">
  <div class="col-md-12" *ngIf="toDo == 'Cerca un annuncio'">
    <p class="fs-3">{{ toDo }}</p>
    <div class="row">
      <div class="d-flex justify-content-around overflow-auto">
        <button
          class="btn rounded-pill btn-personal"
          (click)="setButtonBg(i, f)"
          *ngFor="let f of filters; index as i"
        >
          {{ f }}
        </button>
      </div>
      <div
        class="d-flex justify-content-center"
        *ngIf="annunciCopy && annunciCopy.length > 0"
      >
        <button title="ASC" class="btn" (click)="getAllAnnunci(action, 'ASC')">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
            fill="#5f6368"
          >
            <path d="M480-528 296-344l-56-56 240-240 240 240-56 56-184-184Z" />
          </svg>
        </button>
        <button
          title="DESC"
          class="btn"
          (click)="getAllAnnunci(action, 'DESC')"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
            fill="#5f6368"
          >
            <path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z" />
          </svg>
        </button>
      </div>
      <div class="col-md-12 py-5 my-5" *ngIf="isLoading; else annc">
        <mat-spinner class="m-auto" color="warn"></mat-spinner>
      </div>
      <ng-template #annc>
        <div
          class="col-md-11 m-auto border rounded my-2 p-2 py-5 shadow"
          *ngFor="let a of annunciCopy"
        >
          <p class="text-end">
            <button
              class="btn"
              (click)="changeAnnunciOption(annunciOption[0], a.id)"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-three-dots-vertical"
                viewBox="0 0 16 16"
              >
                <path
                  d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"
                />
              </svg>
            </button>
          </p>
          <div
            class="d-flex justify-content-end"
            *ngIf="annunciOption[0] && annunciOption[1] == a.id"
          >
            <p class="w-75 text-start p-2">
              <button
                class="btn-bg-light p-2 rounded m-1"
                (click)="openAnnunciInfo(a)"
              >
                Richiedi assegnazione.
              </button>
              <button
                class="btn-bg-light p-2 rounded m-1"
                (click)="openChat(user.id, a)"
              >
                Contatta l'azienda.
              </button>
            </p>
          </div>
          <p class="text-start fw-bold">
            Azienda :
            <span> {{ a?.azienda?.nomeAzienda }}</span>
          </p>
          <p class="text-start">Retribuzione : {{ a.retribuzione }}</p>
          <p>
            <span class="text-danger">Partenza da : </span>
            {{ a.spedizione.da }}
          </p>
          <p>
            <span class="text-danger">Arrivo a : </span> {{ a.spedizione.a }}
          </p>
          <p>
            <span class="text-danger">Quando deve partire la spedizione? </span>
            {{ a.spedizione.daSpedire }}
          </p>
          <p
            class="text-warning"
            *ngIf="checkDatePassed(a.spedizione.daSpedire)"
          >
            La data di spedizione è scaduta.
          </p>
          <p
            class="text-warning"
            *ngIf="checkDateEqual(a.spedizione.daSpedire)"
          >
            La data di spedizione è oggi.
          </p>
          <p>
            <span class="text-danger">Informazioni aggiuntive : </span>
            {{ a.spedizione.descrizioneMerce }} - N°
            {{ a.spedizione.numeroPedane }}
            {{ a.spedizione.numeroPedane == 1 ? " pedana" : " pedane" }}
          </p>
          <p class="footer">
            Pubblicato il {{ a.dataPubblicazione }} da
            {{ a.azienda.nomeAzienda }}
          </p>
        </div>
        <div
          *ngIf="annunci && annunci?.totalPages >= 1"
          class="d-flex justify-content-center"
        >
          <button
            class="btn"
            (click)="getAllAnnunci(action, 'ASC', annunci.number - 1)"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              viewBox="0 -960 960 960"
              width="24px"
              fill="#5f6368"
            >
              <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
            </svg>
          </button>
          <button
            class="btn"
            (click)="getAllAnnunci(action, 'ASC', annunci.number + 1)"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              viewBox="0 -960 960 960"
              width="24px"
              fill="#5f6368"
            >
              <path d="m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z" />
            </svg>
          </button>
          <div>
            <span for="pages">Pagina</span>
            <select name="pages" id="pages" class="form-select">
              <option value=""></option>
              <option [value]="i" *ngFor="let i of pages">{{ i }}</option>
            </select>
          </div>
        </div>
      </ng-template>
    </div>
  </div>
  <div class="col-md-12" *ngIf="toDo == 'Cerca un\'azienda'">
    <p class="fs-3">{{ toDo }}</p>
  </div>
  <div class="col-md-12" *ngIf="toDo == 'Modifica il profilo'">
    <p class="fs-3">{{ toDo }}</p>
  </div>
  <div class="col-md-12" *ngIf="toDo == 'Monitora le tue statistiche'">
    <p class="fs-3">{{ toDo }}</p>
  </div>
  <div class="col-md-12" *ngIf="toDo == 'Le tue spedizioni'">
    <div class="row">
      <div class="col-md-12 py-5">
        <p class="fs-3">{{ toDo }}</p>
      </div>
      <div class="col-md-12 overflow-auto d-flex justify-content-around">
<button class="btn" *ngFor="let sf of speditionFilters"></button>
      </div>
      <div class="col-md-12 text-start d-flex justify-content-around" *ngFor="let s of spedizioni?.content">
<p class="pt-3"><span class="text-danger">{{s.id}}</span> - da {{s.da}} a {{s.a}} </p> <button class="btn" [ngClass]="s.stato=='Richiesta'?'btn-warning':s.stato=='In_corso'?'btn-info':
s.stato=='Stoppata'?'btn-danger':s.stato=='A_termine'?'btn-success':''" disabled>{{s.stato}}</button>
      </div>
    </div>
  </div>
</div>
